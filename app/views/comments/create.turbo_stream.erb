<% if @comment.errors.present? %>
  <%= turbo_stream.replace "comment-form" do %>
    <%= render 'comments/form', comment: @comment, post: @comment.post %>
  <% end %>
<% else %>
  <%= turbo_stream.prepend "table-comment" do %>
    <%= render 'comments/comment', comment: @comment %>
  <% end %>
  <%= turbo_stream.replace "comment-form" do %>
    <%= render 'comments/form', comment: Comment.new, post: @comment.post %>
  <% end %>
  <%= turbo_stream.replace "comment-count" do %>
    <p class="fw-bold", id="comment-count"><%= @comments.count %>件のコメント</p>
  <% end %>
<% end %>
